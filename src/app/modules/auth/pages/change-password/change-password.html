<div class="auth-form">
  <!-- Header -->
  <div class="text-center mb-6">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">
      Cambiar Contraseña
    </h2>
    <p class="text-gray-600">
      Actualiza tu contraseña por una nueva
    </p>
  </div>

  <!-- Success Alert -->
  <pym-alert
    *ngIf="success"
    type="success"
    [dismissible]="true"
    (dismissed)="clearSuccess()"
    class="mb-4"
  >
    {{ success }}
  </pym-alert>

  <!-- Error Alert -->
  <pym-alert
    *ngIf="error"
    type="error"
    [dismissible]="true"
    (dismissed)="clearError()"
    class="mb-4"
  >
    {{ error }}
  </pym-alert>

  <!-- Change Password Form -->
  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="space-y-4">
    
    <!-- Current Password Input -->
    <pym-input
      label="Contraseña actual"
      type="password"
      placeholder="••••••••"
      prefixIcon="lock"
      [required]="true"
      [errorText]="getFieldError('currentPassword')"
      formControlName="currentPassword"
      pymAutoFocus
    ></pym-input>

    <!-- New Password Input -->
    <pym-input
      label="Nueva contraseña"
      type="password"
      placeholder="••••••••"
      prefixIcon="lock"
      [required]="true"
      [errorText]="getFieldError('newPassword')"
      formControlName="newPassword"
      helperText="Mínimo 8 caracteres"
    ></pym-input>

    <!-- Confirm New Password Input -->
    <pym-input
      label="Confirmar nueva contraseña"
      type="password"
      placeholder="••••••••"
      prefixIcon="lock"
      [required]="true"
      [errorText]="getFieldError('confirmPassword')"
      formControlName="confirmPassword"
    ></pym-input>

    <!-- Submit Button -->
    <pym-button
      type="submit"
      variant="primary"
      [fullWidth]="true"
      [loading]="isLoading"
      [disabled]="changePasswordForm.invalid"
      pymRipple
      class="mt-6"
    >
      <span *ngIf="!isLoading">Cambiar Contraseña</span>
      <span *ngIf="isLoading">Cambiando...</span>
    </pym-button>
  </form>

  <!-- Back to Login -->
  <div class="mt-6 text-center">
    <p class="text-sm text-gray-600">
      <a 
        routerLink="/auth/login" 
        class="pym-text-primary font-medium hover:underline"
      >
        Volver al inicio de sesión
      </a>
    </p>
  </div>

  <!-- Security Tips -->
  <div class="mt-4 p-3 bg-yellow-50 rounded-lg">
    <h4 class="text-sm font-medium text-yellow-800 mb-1">Consejos de seguridad:</h4>
    <ul class="text-xs text-yellow-700 space-y-1">
      <li>• Usa una combinación de letras, números y símbolos</li>
      <li>• No uses información personal fácil de adivinar</li>
      <li>• Cambia tu contraseña regularmente</li>
    </ul>
  </div>
</div>
